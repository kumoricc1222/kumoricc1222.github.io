<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8" />
<title>單只因 Set 給木 AT</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<style>
:root{--card-w:110px;--card-h:130px}
body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans TC", "PingFang TC", "Microsoft JhengHei", sans-serif; text-align: center; background: #fafafa; margin:0; padding:20px }
#game { max-width: 980px; margin: 0 auto; }
.board { display: grid; grid-template-columns: repeat(6, var(--card-w)); gap: 8px; justify-content:center }
.card { width: var(--card-w); height: var(--card-h); border: 2px solid #d0d6da; background: #fff; border-radius: 10px; cursor: pointer; display:flex; align-items:center; justify-content:center; padding:8px; box-sizing:border-box; transition: transform 220ms ease, box-shadow 220ms ease, border-color 220ms ease; position:relative; overflow: hidden; user-select:none; -webkit-tap-highlight-color: transparent; touch-action: manipulation; z-index:1; }
.card.empty{ background: #f6f8fa; border-style: dashed; opacity:0.6; cursor:default }
.card svg{ width: 72px; display:block; pointer-events: none }
.card svg *{ pointer-events: none }
.card.selected{ transform: translateY(-10px); box-shadow: 0 12px 30px rgba(30,136,255,0.22), 0 0 0 6px rgba(30,136,255,0.06) inset; border-color: #1976d2; z-index: 10; }
.card.hint{ animation: pulse 900ms ease-in-out; border-color: #ffb300; box-shadow: 0 12px 28px rgba(255,179,0,0.14); z-index:9 }
@keyframes pulse{ 0%{ transform: translateY(0) scale(1) } 50%{ transform: translateY(-6px) scale(1.02) } 100%{ transform: translateY(0) scale(1) } }
.card.new{ animation: dealIn 320ms ease forwards; }
@keyframes dealIn{ from{ transform: translateY(-18px) scale(0.96); opacity:0 } to{ transform: translateY(0) scale(1); opacity:1 } }
.card.removing{ animation: removeOut 300ms ease forwards; }
@keyframes removeOut{ to{ transform: translateY(18px) scale(0.85); opacity:0 } }
#controls { margin: 14px 0 18px 0; display:flex; gap:8px; align-items:center; justify-content:center; flex-wrap:wrap }
#controls button{ padding:8px 12px; border-radius:8px; border:1px solid #bfc8d2; background:#fff; cursor:pointer }
#controls span{ margin-left:6px }
#scoreboard { margin-top: 18px; }
table { border-collapse: collapse; margin: auto; width:100%; max-width:980px }
td, th { border: 1px solid #e0e6ea; padding: 6px 8px; text-align:center }
.modal-backdrop{ position:fixed; inset:0; background:rgba(0,0,0,0.45); display:flex; align-items:center; justify-content:center; z-index:9999; }
.modal{ background:#fff; border-radius:12px; padding:22px; width: min(560px, 92%); box-shadow: 0 20px 40px rgba(0,0,0,0.25); text-align:center }
.modal h2{ margin:0 0 8px 0; font-size:24px }
.modal p{ margin:8px 0 16px 0; font-size:18px }
.modal .actions{ display:flex; gap:10px; justify-content:center }
.btn-primary{ background:#1976d2; color:#fff; border:none; padding:10px 14px; border-radius:8px; cursor:pointer }
.btn-ghost{ background:#fff; color:#333; border:1px solid #cfd8dc; padding:10px 14px; border-radius:8px; cursor:pointer }
@media (max-width:420px){ :root{--card-w:96px;--card-h:114px} .card svg{ width:64px } .modal h2{ font-size:20px } }
</style>
</head>
<body>
<h1>單只因 Set 給木 AT</h1>
<div id="controls">
<button id="startBtn">開始遊戲</button>
<button id="resetBtn">重新開始</button>
<button id="hintBtn">提示 (顯示一組)</button>
<span id="timer">00:00</span>
<span id="score">分數: 0</span>
</div>
<div id="game">
<div class="board" id="board"></div>
<div style="margin-top:10px"><button id="dealMore" style="display:none">補牌</button></div>
</div>
<div id="scoreboard">
<h2>歷史紀錄</h2>
<table>
<thead><tr><th>日期</th><th>時間</th><th>分數</th><th>正確</th><th>錯誤</th></tr></thead>
<tbody id="history"></tbody>
</table>
<div style="margin-top:8px"><button id="clearHistory">清除紀錄</button></div>
</div>

<svg style="position:absolute; width:0; height:0;" aria-hidden="true">
<defs>
<pattern id="str-red" patternUnits="userSpaceOnUse" width="8" height="8" patternTransform="rotate(45)">
<rect width="100%" height="100%" fill="transparent"></rect>
<path d="M0 0 L0 8" stroke="#b71c1c" stroke-width="2" stroke-linecap="square"></path>
</pattern>

<pattern id="str-green" patternUnits="userSpaceOnUse" width="8" height="8" patternTransform="rotate(45)">
<rect width="100%" height="100%" fill="transparent"></rect>
<path d="M0 0 L0 8" stroke="#004d40" stroke-width="2" stroke-linecap="square"></path>
</pattern>

<pattern id="str-purple" patternUnits="userSpaceOnUse" width="8" height="8" patternTransform="rotate(45)">
<rect width="100%" height="100%" fill="transparent"></rect>
<path d="M0 0 L0 8" stroke="#9c27b0" stroke-width="2" stroke-linecap="square"></path>
</pattern>

<pattern id="str-yellow" patternUnits="userSpaceOnUse" width="8" height="8" patternTransform="rotate(45)">
<rect width="100%" height="100%" fill="transparent"></rect>
<path d="M0 0 L0 8" stroke="#f9a825" stroke-width="2" stroke-linecap="square"></path>
</
